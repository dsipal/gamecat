$(document).ready(function(){var e=new LoginValidator;new LoginController;$("#login").ajaxForm({beforeSubmit:function(r,a,s){return 0!=e.validateForm()&&(r.push({name:"remember-me",value:$("#btn_remember").find("span").hasClass("fa-check-square")}),!0)},success:function(e,r,a,s){console.log(e,r),"success"===r&&(window.location.href="/account")},error:function(r){"not-verified"===r.responseJSON.error?e.showLoginError("Login Failure","You need to verify your email first."):e.showLoginError("Login Failure","Please check your username and/or password")}}),$("input:text:visible:first").focus(),$("#btn_remember").click(function(){var e=$(this).find("span");e.hasClass("fa-minus-square")?(e.removeClass("fa-minus-square"),e.addClass("fa-check-square")):(e.addClass("fa-minus-square"),e.removeClass("fa-check-square"))});var r=new EmailValidator;$("#get-credentials-form").ajaxForm({url:"/lost-password",beforeSubmit:function(e,a,s){return r.validateEmail($("#email-tf").val())?(r.hideEmailAlert(),!0):(r.showEmailAlert("Please enter a valid email address"),!1)},success:function(e,a,s,o){$("#cancel").html("OK"),$("#retrieve-password-submit").hide(),r.showEmailSuccess("A link to reset your password was emailed to you.")},error:function(e){"email-not-found"==e.responseText?r.showEmailAlert("Email not found. Are you sure you entered it correctly?"):($("#cancel").html("OK"),$("#retrieve-password-submit").hide(),r.showEmailAlert("Sorry. There was a problem, please try again later."))}})});